<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JPO vÃ½jezdy â€“ dashboard</title>

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

  <!-- MarkerCluster -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css"/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css"/>

  <link rel="stylesheet" href="/styles.css"/>

  <style>
    /* ikonky markerÅ¯ */
    .evt-icon {
      width: 34px;
      height: 34px;
      border-radius: 50%;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size: 18px;
      color:#fff;
      border:2px solid rgba(0,0,0,.35);
      box-shadow: 0 8px 18px rgba(0,0,0,.25);
    }
    .evt-pozar { background:#e23b2e; }
    .evt-nehoda { background:#1e88e5; }
    .evt-technicka { background:#6a1b9a; }
    .evt-zachrana { background:#2e7d32; }
    .evt-jine { background:#607d8b; }
  </style>
</head>

<body>
  <div class="app">
    <header class="topbar">
      <div>
        <h1>JPO vÃ½jezdy â€“ dashboard</h1>
        <div class="sub">Mapa â€¢ ikony udÃ¡lostÃ­ â€¢ statistiky â€¢ Å¾ebÅ™Ã­Äky (data posÃ­lÃ¡ ESP32)</div>
      </div>
      <div class="right">
        <button id="btnReload">Obnovit</button>
        <span id="statusPill" class="pill">â€¦</span>
      </div>
    </header>

    <main class="grid">
      <section class="card mapCard">
        <div class="cardTitle">
          <div>Mapa vÃ½jezdÅ¯</div>
          <div class="filters">
            <button class="chip" data-filter="all">VÅ¡e</button>
            <button class="chip" data-filter="pozar">ğŸ”¥ poÅ¾Ã¡r</button>
            <button class="chip" data-filter="nehoda">ğŸš— nehoda</button>
            <button class="chip" data-filter="technicka">ğŸ”§ technickÃ¡</button>
            <button class="chip" data-filter="zachrana">ğŸ§‘â€ğŸš’ zÃ¡chrana</button>
            <button class="chip" data-filter="jine">â“ jinÃ©</button>
          </div>
        </div>
        <div id="map" class="map"></div>
      </section>

      <section class="card sideCard">
        <div class="cardTitle">Statistika (30 dnÃ­)</div>
        <div id="statsBox" class="statsBox">â€”</div>
      </section>

      <section class="card listCard">
        <div class="cardTitle">PoslednÃ­ udÃ¡losti</div>
        <div id="eventsTable" class="tableWrap"></div>
      </section>
    </main>
  </div>

  <!-- Leaflet -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- MarkerCluster -->
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

  <script src="/app.js"></script>
</body>
</html>
